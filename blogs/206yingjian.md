---
layout: page
permalink: /blogs/206yingjian/index.html
title: 福州大学206智能车队硬件培训
---

## 福州大学206智能车队硬件培训

---

### 关于全国大学生智能汽车竞赛

智能车竞赛不同于其他比赛，有着几乎所有比赛最长的准备周期以及不小的难度，需要平衡自己的学业与竞赛精力。如果将获得其奖项作为唯一的目标，无疑是性价比极低的~~不如去互联网+做PPT~~

<br>但是智能车也是一个学习嵌入式的舞台，你可以在这里学习到很多专业技能，提高自己的水平。同时，智能车竞赛的成果作为你的课设使用，也或者申请SRTP等。

---

### 硬件成员工作介绍

如果说软件是小车的灵魂，那么硬件就是小车的身躯。硬件的设计，很大程度上决定了小车的上限。

<br>硬件组主要负责智能车的**硬件开发和维护、结构设计与组装、测试程序编写**。在这里，通过设计和测试你自己的电路板，你可以学习到很多硬件相关的知识(如器件选型，PCB设计，焊接技巧等等)。

<br>具体的软件介绍与操作流程会在下文提到，在B站的[***福州大学206智能车***](https://space.bilibili.com/3461573251172869?spm_id_from=333.337.0.0)官方账号也有我们录制的培训视频。

---

### 核心工具介绍

#### Altium Designer

<br>**AD**是一款功能强大的 PCB（*Printed Circuit Board，印刷电路板*）绘制软件，也是我们实验室目前所统一使用的。AD 提供了完整的 PCB 设计流程，包括**原理图绘制、PCB 布局、元件布局和布线**等。我们车队有关的芯片封装库都是AD的库文件。

<br>但是如果赛事要求有其他类型的电路板需要绘制，例如**LED灯板**或者**无线充电板**。不需要用到我们的封装库。
那么[**立创EDA**](https://lceda.cn/)也是一个不错的选择，立创EDA内置了大部分的芯片的封装，我们只需要在里面查找我们需要的封装即可，省去寻找封装以及导入的流程。

<br>并且，立创EDA可以导出和导入AD的相关原理图、PCB以及芯片封装，让你的电路板设计更加自由灵活。

<br>除了我们提供的封装，下列是一些其他寻找元件库和封装库的渠道:

- [**Altium中国**](https://www.altium.com.cn/)
- [**立创商城**](https://www.szlcsc.com/)
- 淘宝商家

#### 3D打印 

<br>关于**3D打印**，智能车需要使用的地方不多，一般的结构问题可以通过钻孔、热熔胶或者发挥你的创造力来解决。但是如果是特殊的组别(例如无线充电，独轮)所需要的结构组件,也可以自己去学习一些3D打印软件进行简单的结构设计。

<br>推荐几个常用的3D建模软件:

- [**Solidworks**](https://www.solidworks.com/zh-hans) (机协常用的3D打印软件，高效专业)
- [**Fusion360**](http://www.fusion360.com.cn/)  (我个人常用的3D打印软件，稚晖君同款，简单好用)

至于3D打印的渠道，这边建议去~~机协白嫖~~嘉立创的[**三维猴**](https://www.sanweihou.com/)或者[**未来工厂**](https://www.wenext.cn/)这些专业的3D打印工厂，这些工厂在精度和质量上比普通的3D打印机要好上不少，但是发货的时间较长，价格稍贵。

---

### 硬件模块介绍

接下来介绍一下智能车硬件所需设计的几个基本模块:

#### 主控板

**主控板**是整个智能车的"大脑"，也是硬件同学主要需要设计的部分，大部分的设计电路可以在逐飞母版的开源文件中找到。但是我们仍需对其进行修改，例如整体的布局，电源管理或者所需要的IO口的修改等等。

<br>对于主控电路板，主要包含以下部分:

- 核心板

核心板是赛事所需的单片机芯片的最小系统板，大多使用TC264或者STC系列。我们只需在主控板位置将核心板的封装放在较中心的位置即可，硬件同学也需自行调整核心板的IO接口。

- 电源管理电路

在主控板设计中，不同的外设具有不同的电压需求(例如摄像头需要5V，核心板需要3V3)，但是我们一般情况下使用一个固定的锂电池进行供电(24V,12V,7.2V等)。因此，需要DC-DC降压电路或者，LDO稳压电路对输入电压进行处理以供给不同的外设。DCDC与LDO的区别大家可以参考[电源芯片选型](https://www.bilibili.com/video/BV11v411K7LN/?vd_source=2e2ef6cbd2df0782f13ba660457502cd)。

<br>在压差较大的情况中，我们需要使用DC-DC电路。
<br>在压差较小的情况中，我们需要使用LDO电路。

- 外设引脚搭配

设计IO接口是硬件同学的基本功，按键等功能普通的IO都可以胜任，但是在特殊的情况下(例如PWM输出或者ADC采集)，需要用到特定的IO口，这需要查看所使用的核心板和芯片的芯片手册。(这是逐飞的[推荐IO](https://github.com/Kanomace/Kanomace.github.io/blob/main/blogs/206yingjian.assets/%E6%8E%A8%E8%8D%90IO%E5%88%86%E9%85%8D.txt))

#### 驱动板

智能车中的驱动板是用来控制车辆的电动驱动系统的关键组件之一。它的主要功能是接收来自主控板的`PWM`控制信号，并将其转化为电流或电压信号，以控制电动马达，使车辆能够高效、精确地执行各种操作和动作。

<br>驱动板的原理图设计有一定难度，一般情况下我们只需修改部分功能即可。

#### 运放/无线充电

运放板是将电磁信号放大，并通过主控板ADC采集获得模拟量，是电磁组必须使用的模块(其他组别可选)。
<br>无线充电是电能接力组的同学需要学习的，在此组别中从车需要通过无线充电进行供电，在此不再赘述。
<br>这两类可以在确定组别后再进行学习。

---

### 硬件设计流程

1. **电路板功能设计**
<br>根据你选择的组别，确定好你所需要的功能并参考网上的资料做出自己需要的电路板。例如，对于独轮组而言只需使用单路驱动，对于电能充电组需要额外使用无线充电板，对电磁组需要绘制运放电路板等等。在熟练掌握之后，可以将所有电路板的功能集成在同一块电路板上（节约空间，接线简单，但是若电路板损坏较难修复）。

2. **原理图绘制**
<br>原理图是一种图形化表示电路连接和元件之间关系的图表，它展示了电路的结构和功能。原理图可以帮助工程师理解电路的工作原理，设计电路的功能和特性，并进行电路的分析和优化。它们帮助工程师理解电路的工作原理，设计电路的功能和特性，并将电路转化为实际的电子设备。 
<br>原理图设计示例可以参考车队的[B站视频](https://space.bilibili.com/3461573251172869?spm_id_from=333.337.0.0)
<br>在设计PCB之前，请检查原理图是否设计正确。

3. **电路板设计**
<br>电路板设计包括将电路元件放置在电路板上，并通过导线和连接器将它们连接起来。设计电路板需要考虑电路的物理布局、信号传输、电源分配等因素。通过设计电路板，将原理图中的电路转化为实际可制造和组装的电子设备。
<br>网络上有很多PCB设计经验，经验需要慢慢积累，智能车的PCB都是低速领域的设计，无需拘泥于高速设计中的原则，但是元器件的布局是很重要的，同样的原理图也许会因为PCB设计的不同而产生不同的效果。同样，数字电路部分的设计也值得注意，因为数字电路工作时往往会产生大量的谐波，所以其外围电路的设计需要十分谨慎。 
<br>PCB设计示例可以参考车队的[B站视频](https://space.bilibili.com/3461573251172869?spm_id_from=333.337.0.0)

4. ##电路板发厂##
<br>对于10cm X 10cm 以内的电路板，嘉立创每月有两次免费打版的机会，不过仅限于使用立创EDA设计的PCB。使用AD设计时，需要用到一个插件[**GerBer to EDA**]。
<br>电路板发厂可以参考车队的[B站视频](https://space.bilibili.com/3461573251172869?spm_id_from=333.337.0.0)

5. ##电路板焊接##
<br>在拿到电路板后，需要将贴片元件焊接上去，一般可以使用烙铁和焊台等工具。在焊接时，切记注意安全！！！。
<br>焊接的具体操作可以参考车队的[工具使用](https://space.bilibili.com/3461573251172869?spm_id_from=333.337.0.0)

6. ##电路板测试##
<br>在焊接完电路板后，我们需要测试其功能是否正常。在新手期，大家可以在焊接部分模块后，先测试是否能正常工作再焊接下一个模块。这样可以有效减小后期排查的工作量。
<br>对于电源管理电路，例如7.2V转5V，可以使用学生电源充当输入，并在输出部分使用电压表测量电压。
<br>对于外设模块电路，例如摄像头或者编码器，只需在核心板上烧录例程检查工作情况即可。

### 材料购买

<br>硬件材料一般在立创商城或者淘宝的逐飞科技，龙邱科技，优信电子等渠道购买，大家在购买前需要注意芯片的封装，耐压等特性。

<br>为了友善地对待我们的财务人员以及照顾同学们的钱包，在采购元器件时，请尽量少的在同一家店购买**500**以上的元器件（因为入库流程复杂）

### 资料下载

这里是车队传承下来以及我个人整理的的资料

[黄家成的github仓库]()

大家只需
- ~~点击右上角的Starred，为我助力~~
- 点击右上角的**Code**
- 点击选项中的**Download ZIP**

VPN的网络可能不稳定，可以挑选需要的部分下载，也可以前往QQ群下载资料~
---

最后，这里是一些硬件经验分享的UP主，大家可以在平时积累硬件知识
- [工科男孙老师](https://space.bilibili.com/43584648?spm_id_from=333.337.0.0)
- [电子工程师华哥](https://space.bilibili.com/677486623?spm_id_from=333.337.0.0)
- [达尔闻](https://space.bilibili.com/430777205?spm_id_from=333.337.0.0)
- [凡亿教育](https://space.bilibili.com/11979252)

>纸上学来总觉浅

*希望大家多多动手，自主学习，预祝大家竞赛生涯圆满*。


